(function(){"use strict";var e={8957:function(e,n,i){var t=i(9242),r=i(4870),o=i(3396);function s(e,n,i,t,r,s){const c=(0,o.up)("Header"),a=(0,o.up)("Body"),u=(0,o.up)("Footer");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o.Wm)(a),(0,o.Wm)(u)],64)}var c=i.p+"img/logo_ecoKirchner.a7b69070.png";const a=e=>((0,o.dD)("data-v-4092c2ea"),e=e(),(0,o.Cn)(),e),u={class:"header"},l=a((()=>(0,o._)("div",{class:"logoSmall"},[(0,o._)("img",{class:"logo",src:c,alt:"Ecokirchner logo"})],-1))),d={key:0,class:"hamburgerWrapper"};function g(e,n,i,t,r,s){const c=(0,o.up)("Hamburger");return(0,o.wg)(),(0,o.iD)("div",u,[l,e.menuService.isHamburger?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(c)])):(0,o.kq)("",!0)])}var v=i(7139);const p=e=>((0,o.dD)("data-v-32d45115"),e=e(),(0,o.Cn)(),e),m=p((()=>(0,o._)("div",{class:"line"},null,-1))),f=p((()=>(0,o._)("div",{class:"line"},null,-1))),h=p((()=>(0,o._)("div",{class:"line"},null,-1))),k=[m,f,h];function _(e,n,i,t,r,s){return(0,o.wg)(),(0,o.iD)("div",{class:(0,v.C_)(["hamburger",{isOpen:e.menuService.isHamburgerOpen}]),onClick:n[0]||(n[0]=(...n)=>e.onClick&&e.onClick(...n))},k,2)}var S=(0,o.aZ)({setup(){const e=(0,o.f3)("menuService");function n(){e.isHamburgerOpen=!e.isHamburgerOpen}return{menuService:e,onClick:n}}}),C=i(89);const w=(0,C.Z)(S,[["render",_],["__scopeId","data-v-32d45115"]]);var b=w,I=(0,o.aZ)({name:"HeaderComponent",components:{Hamburger:b},setup(){const e=(0,o.f3)("menuService");return{menuService:e}}});const y=(0,C.Z)(I,[["render",g],["__scopeId","data-v-4092c2ea"]]);var O=y;const H={class:"body"};function D(e,n,i,t,r,s){const c=(0,o.up)("DropDownMenu"),a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",H,[(0,o.Wm)(c,{class:(0,v.C_)({isOpen:e.menuService.isHamburgerOpen})},null,8,["class"]),(0,o.Wm)(a)])}const Z=e=>((0,o.dD)("data-v-9b26501c"),e=e(),(0,o.Cn)(),e),W={class:"dropDownMenu"},E={class:"menuItems item"},x={key:0,ref:"ref_userItem",class:"userItem item"},M={class:"email item"},j=Z((()=>(0,o._)("div",{class:"email item"},"Anmelden",-1))),z=[j];function A(e,n,i,t,r,s){return(0,o.wg)(),(0,o.iD)("div",W,[(0,o._)("div",E,[(0,o._)("div",{class:"item",onClick:n[0]||(n[0]=(...n)=>e.onClickCloseMenu&&e.onClickCloseMenu(...n))},"Produkte"),(0,o._)("div",{class:"item",onClick:n[1]||(n[1]=(...n)=>e.onClickCloseMenu&&e.onClickCloseMenu(...n))},"Über uns"),(0,o._)("div",{class:"item",onClick:n[2]||(n[2]=(...n)=>e.onClickCloseMenu&&e.onClickCloseMenu(...n))},"Einkaufswagen"),(0,o._)("div",{class:"item",onClick:n[3]||(n[3]=(...n)=>e.onClickCloseMenu&&e.onClickCloseMenu(...n))},"Kontakt")]),e.isSignedIn?((0,o.wg)(),(0,o.iD)("div",x,[(0,o._)("div",M,(0,v.zw)(e.email),1),(0,o._)("div",{class:"signOut item",onClick:n[4]||(n[4]=(...n)=>e.onClickSignOut&&e.onClickSignOut(...n))},"Abmelden")],512)):((0,o.wg)(),(0,o.iD)("div",{key:1,class:"userItem item",onClick:n[5]||(n[5]=(...n)=>e.onClickSignIn&&e.onClickSignIn(...n))},z))])}i(7658);var F=i(2483),T=(0,o.aZ)({setup(){const e=(0,r.iH)(null),n=(0,o.f3)("clientService"),i=(0,o.f3)("menuService"),t=(0,F.tv)(),s=(0,o.Fl)((()=>n.isSignedIn)),c=(0,r.iH)("");function a(){i.isHamburgerOpen=!i.isHamburgerOpen}async function u(){await d()}async function l(){await n.signOut(),await d()}async function d(){await t.push({name:"LogIn"}),i.isHamburgerOpen=!i.isHamburgerOpen}function g(){i.isHamburgerOpen?(window.addEventListener("resize",v),p()):window.removeEventListener("resize",v)}function v(){i.isHamburgerOpen=!1}function p(){if(!n.isSignedIn)return;const e=n.userEmail,i=m();i>=e.length?c.value=e:c.value=e.substring(0,i)+"..."}function m(){const n=e.value,i=n.offsetWidth,t=window.getComputedStyle(n,null).getPropertyValue("font"),r=parseFloat(t.split(" ")[0]),o=.6*r;return Math.floor(i/o)}return(0,o.YP)((()=>i.isHamburgerOpen),g),{ref_userItem:e,isSignedIn:s,email:c,onClickCloseMenu:a,onClickSignIn:u,onClickSignOut:l}}});const B=(0,C.Z)(T,[["render",A],["__scopeId","data-v-9b26501c"]]);var L=B,P=(0,o.aZ)({components:{DropDownMenu:L},setup(){const e=(0,o.f3)("menuService");return{menuService:e}}});const q=(0,C.Z)(P,[["render",D],["__scopeId","data-v-8cd3f26c"]]);var K=q;const G=e=>((0,o.dD)("data-v-612ed539"),e=e(),(0,o.Cn)(),e),N={class:"footer"},J=G((()=>(0,o._)("div",{class:"copyrightBar"},"© Ecokirchner 2023",-1))),Y=[J];function Q(e,n){return(0,o.wg)(),(0,o.iD)("div",N,Y)}const X={},R=(0,C.Z)(X,[["render",Q],["__scopeId","data-v-612ed539"]]);var V=R,$=(0,o.aZ)({name:"App",components:{Header:O,Body:K,Footer:V},setup(){return(0,o.wF)((()=>{document.title="Ecokirchner"})),{}}});const U=(0,C.Z)($,[["render",s]]);var ee=U;const ne=e=>((0,o.dD)("data-v-59a99df4"),e=e(),(0,o.Cn)(),e),ie={class:"logIn"},te={key:0,class:"loading"},re=ne((()=>(0,o._)("div",{class:"isLoadingText"},"Wird geladen...",-1))),oe={key:1,class:"loginWrapper"},se={class:"header"},ce={key:0,class:"headerText"},ae={key:1,class:"headerText"};function ue(e,n,i,t,r,s){const c=(0,o.up)("SpinnerComponent"),a=(0,o.up)("ButtonComponent");return(0,o.wg)(),(0,o.iD)("div",ie,[e.isLoading?((0,o.wg)(),(0,o.iD)("div",te,[(0,o.Wm)(c,{"spinner-size":"50px"}),re])):((0,o.wg)(),(0,o.iD)("div",oe,[(0,o._)("div",se,[e.isSignedIn?((0,o.wg)(),(0,o.iD)("div",ce,"Bei EcoKirchner abmelden")):((0,o.wg)(),(0,o.iD)("div",ae,"Bei EcoKirchner anmelden"))]),e.isSignedIn?((0,o.wg)(),(0,o.j4)(a,{key:0,"icon-svg":e.googleSvg,"button-text":"Abmelden",onClick:e.onClickSignOut},null,8,["icon-svg","onClick"])):((0,o.wg)(),(0,o.j4)(a,{key:1,"icon-svg":e.googleSvg,"button-text":"Weiter mit Google",onClick:e.onClickSignInWithGoogle},null,8,["icon-svg","onClick"]))]))])}const le={key:0,class:"buttonIcon"},de={class:"buttonText"};function ge(e,n,i,t,r,s){return(0,o.wg)(),(0,o.iD)("div",{class:"button",style:(0,v.j5)(t.buttonStyle)},[t.props.iconSvg?((0,o.wg)(),(0,o.iD)("div",le)):(0,o.kq)("",!0),(0,o._)("div",de,(0,v.zw)(t.props.buttonText),1)],4)}var ve={props:{iconSvg:{required:!1,type:String},buttonText:{required:!0,type:String}},setup(e){const n=!!e.iconSvg,i=(0,o.Fl)((()=>({"--iconSvg":`url(${e.iconSvg}) center center no-repeat`})));return{props:e,showIcon:n,buttonStyle:i}}};const pe=(0,C.Z)(ve,[["render",ge],["__scopeId","data-v-e5015e7a"]]);var me=pe;const fe={class:"spinner"};function he(e,n,i,t,r,s){return(0,o.wg)(),(0,o.iD)("div",fe,[(0,o._)("div",{class:"spinner-inner",style:(0,v.j5)({"--spinnerSize":i.spinnerSize})},null,4)])}var ke={props:{spinnerSize:{type:String,default:"30px"}}};const _e=(0,C.Z)(ke,[["render",he],["__scopeId","data-v-2f7f4ef9"]]);var Se=_e,Ce=(0,o.aZ)({components:{SpinnerComponent:Se,ButtonComponent:me},setup(){const e=(0,o.f3)("clientService"),n=(0,F.tv)();let i=(0,r.iH)(!0),t=(0,r.iH)(!1);const s="https://accounts.scdn.co/sso/images/new-google-icon.72fd940a229bc94cf9484a3320b3dccb.svg";async function c(){i.value=!0,await e.signInWithGoogle(),e.isSignedIn&&await n.push({name:"Home"}),t.value=e.isSignedIn,i.value=!1}async function a(){await e.signOut(),t.value=e.isSignedIn}return(0,o.bv)((async()=>{e.isSignedIn&&await n.push({name:"Home"}),t.value=!1,i.value=!1})),{isLoading:i,isSignedIn:t,googleSvg:s,onClickSignInWithGoogle:c,onClickSignOut:a}}});const we=(0,C.Z)(Ce,[["render",ue],["__scopeId","data-v-59a99df4"]]);var be=we;const Ie={class:"home"},ye={class:"title"},Oe={class:"email"};function He(e,n,i,t,r,s){return(0,o.wg)(),(0,o.iD)("div",Ie,[(0,o._)("div",ye,"Hallo "+(0,v.zw)(t.userName),1),(0,o._)("div",Oe,(0,v.zw)(t.userEmail),1),(0,o._)("div",{class:"signOut",onClick:n[0]||(n[0]=(...e)=>t.onClickSignOut&&t.onClickSignOut(...e))},"Abmelden")])}var De={setup(){const e=(0,o.f3)("clientService"),n=(0,F.tv)(),i=e.userName,t=e.userEmail;async function r(){await e.signOut(),e.isSignedIn||s()}function s(){n.push({name:"LogIn"})}return(0,o.wF)((async()=>{e.isSignedIn||s()})),{userName:i,userEmail:t,onClickSignOut:r}}};const Ze=(0,C.Z)(De,[["render",He],["__scopeId","data-v-540ae9ec"]]);var We=Ze;const Ee=[{path:"/",name:"Home",component:We},{path:"/login",name:"LogIn",component:be},{path:"/:catchAll(.*)",redirect:"/login"}],xe=(0,F.p7)({history:(0,F.r5)("/eco-kirchner"),routes:Ee});var Me=xe,je=i(7327),ze=i(4233),Ae=i(7795);let Fe={apiKey:"AIzaSyA1X0q1F-Q0AZJKGfQ-pd9ECZPMWvXCC5Y",authDomain:"eco-kirchner.firebaseapp.com",projectId:"eco-kirchner",storageBucket:"eco-kirchner.appspot.com",messagingSenderId:"908630029969",appId:"1:908630029969:web:d242eb70de39b39a7cf130"};var Te=Fe;class Be{constructor(){(0,je.Z)(this,"_auth",void 0),(0,je.Z)(this,"_googleAuthProvider",void 0),(0,je.Z)(this,"_user",void 0),(0,je.Z)(this,"_token",void 0);const e=(0,Ae.ZF)(Te);this._auth=(0,ze.v0)(e),this._auth.languageCode="de",this._googleAuthProvider=new ze.hJ}get isSignedIn(){return!!this._user&&!!this._token}get userName(){return this.isSignedIn?this._user.displayName:null}get userEmail(){return this.isSignedIn?this._user.email:null}async signInWithGoogle(){const e=await(0,ze.rh)(this._auth,new ze.hJ);if(!e)return this._user=null,void(this._token=null);const n=ze.hJ.credentialFromResult(e);this._token=n.accessToken,this._user=e.user}async signOut(){await(0,ze.w7)(this._auth),this._user=null,this._token=null}}class Le{constructor(){(0,je.Z)(this,"_isHamburgerOpen",!1)}get isHamburger(){return!0}get isHamburgerOpen(){return!!this.isHamburger&&this._isHamburgerOpen}set isHamburgerOpen(e){this._isHamburgerOpen=e}}const Pe=(0,t.ri)(ee),qe=(0,r.qj)(new Be),Ke=(0,r.qj)(new Le);Pe.provide("clientService",qe),Pe.provide("menuService",Ke),Pe.use(Me),Pe.mount("#app")}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(n,t,r,o){if(!t){var s=1/0;for(l=0;l<e.length;l++){t=e[l][0],r=e[l][1],o=e[l][2];for(var c=!0,a=0;a<t.length;a++)(!1&o||s>=o)&&Object.keys(i.O).every((function(e){return i.O[e](t[a])}))?t.splice(a--,1):(c=!1,o<s&&(s=o));if(c){e.splice(l--,1);var u=r();void 0!==u&&(n=u)}}return n}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[t,r,o]}}(),function(){i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,{a:n}),n}}(),function(){i.d=function(e,n){for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){i.p="/EcoKirchner/"}(),function(){var e={143:0};i.O.j=function(n){return 0===e[n]};var n=function(n,t){var r,o,s=t[0],c=t[1],a=t[2],u=0;if(s.some((function(n){return 0!==e[n]}))){for(r in c)i.o(c,r)&&(i.m[r]=c[r]);if(a)var l=a(i)}for(n&&n(t);u<s.length;u++)o=s[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(l)},t=self["webpackChunkeco_kirchner"]=self["webpackChunkeco_kirchner"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=i.O(void 0,[998],(function(){return i(8957)}));t=i.O(t)})();
//# sourceMappingURL=app.73b3d90d.js.map