(function(){"use strict";var n={2831:function(n,e,t){var i=t(9242),o=t(3396);function r(n,e,t,i,r,s){const c=(0,o.up)("HeaderComponent"),a=(0,o.up)("router-view"),u=(0,o.up)("FooterComponent");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o.Wm)(a),(0,o.Wm)(u)],64)}var s=t.p+"img/logo_ecoKirchner.a7b69070.png";const c=n=>((0,o.dD)("data-v-2a260bfe"),n=n(),(0,o.Cn)(),n),a={class:"header"},u=c((()=>(0,o._)("div",{class:"logoSmall"},[(0,o._)("img",{class:"logo",src:s,alt:"Ecokirchner logo"})],-1))),l=[u];function d(n,e,t,i,r,s){return(0,o.wg)(),(0,o.iD)("div",a,l)}var g=(0,o.aZ)({name:"HeaderComponent",props:{msg:String}}),p=t(89);const v=(0,p.Z)(g,[["render",d],["__scopeId","data-v-2a260bfe"]]);var h=v;const f=n=>((0,o.dD)("data-v-612ed539"),n=n(),(0,o.Cn)(),n),m={class:"footer"},_=f((()=>(0,o._)("div",{class:"copyrightBar"},"Â© Ecokirchner 2023",-1))),S=[_];function k(n,e){return(0,o.wg)(),(0,o.iD)("div",m,S)}const w={},b=(0,p.Z)(w,[["render",k],["__scopeId","data-v-612ed539"]]);var y=b,C=(0,o.aZ)({name:"App",components:{FooterComponent:y,HeaderComponent:h},beforeCreate(){document.title="Ecokirchner"}});const I=(0,p.Z)(C,[["render",r]]);var O=I,D=t(2483);const Z=n=>((0,o.dD)("data-v-a90cae22"),n=n(),(0,o.Cn)(),n),x={class:"logIn"},E={key:0,class:"loading"},W=Z((()=>(0,o._)("div",{class:"isLoadingText"},"Wird geladen...",-1))),j={key:1,class:"loginWrapper"},H={class:"header"},A={key:0,class:"headerText"},T={key:1,class:"headerText"};function z(n,e,t,i,r,s){const c=(0,o.up)("SpinnerComponent"),a=(0,o.up)("ButtonComponent");return(0,o.wg)(),(0,o.iD)("div",x,[i.isLoading?((0,o.wg)(),(0,o.iD)("div",E,[(0,o.Wm)(c,{"spinner-size":"50px"}),W])):((0,o.wg)(),(0,o.iD)("div",j,[(0,o._)("div",H,[i.isSignedIn?((0,o.wg)(),(0,o.iD)("div",A,"Bei EcoKirchner abmelden")):((0,o.wg)(),(0,o.iD)("div",T,"Bei EcoKirchner anmelden"))]),i.isSignedIn?((0,o.wg)(),(0,o.j4)(a,{key:0,"icon-svg":i.googleSvg,"button-text":"Abmelden",onClick:i.onClickSignOut},null,8,["icon-svg","onClick"])):((0,o.wg)(),(0,o.j4)(a,{key:1,"icon-svg":i.googleSvg,"button-text":"Weiter mit Google",onClick:i.onClickSignInWithGoogle},null,8,["icon-svg","onClick"]))]))])}t(7658);var F=t(4870),B=t(7139);const G={key:0,class:"buttonIcon"},K={class:"buttonText"};function L(n,e,t,i,r,s){return(0,o.wg)(),(0,o.iD)("div",{class:"button",style:(0,B.j5)(i.buttonStyle)},[i.props.iconSvg?((0,o.wg)(),(0,o.iD)("div",G)):(0,o.kq)("",!0),(0,o._)("div",K,(0,B.zw)(i.props.buttonText),1)],4)}var N={props:{iconSvg:{required:!1,type:String},buttonText:{required:!0,type:String}},setup(n){const e=!!n.iconSvg,t=(0,o.Fl)((()=>({"--iconSvg":`url(${n.iconSvg}) center center no-repeat`})));return{props:n,showIcon:e,buttonStyle:t}}};const P=(0,p.Z)(N,[["render",L],["__scopeId","data-v-e5015e7a"]]);var q=P;const J={class:"spinner"};function M(n,e,t,i,r,s){return(0,o.wg)(),(0,o.iD)("div",J,[(0,o._)("div",{class:"spinner-inner",style:(0,B.j5)({"--spinnerSize":t.spinnerSize})},null,4)])}var Q={props:{spinnerSize:{type:String,default:"30px"}}};const X=(0,p.Z)(Q,[["render",M],["__scopeId","data-v-2f7f4ef9"]]);var Y=X,R={components:{SpinnerComponent:Y,ButtonComponent:q},setup(){const n=(0,o.f3)("clientService"),e=(0,D.tv)();let t=(0,F.iH)(!0),i=(0,F.iH)(!1);const r="https://accounts.scdn.co/sso/images/new-google-icon.72fd940a229bc94cf9484a3320b3dccb.svg";async function s(){t.value=!0,await n.signInWithGoogle(),n.isSignedIn&&await e.push({name:"Home"}),i.value=n.isSignedIn,t.value=!1}async function c(){await n.signOut(),i.value=n.isSignedIn}return(0,o.bv)((async()=>{n.isSignedIn&&await e.push({name:"Home"}),i.value=!1,t.value=!1})),{isLoading:t,isSignedIn:i,googleSvg:r,onClickSignInWithGoogle:s,onClickSignOut:c}}};const $=(0,p.Z)(R,[["render",z],["__scopeId","data-v-a90cae22"]]);var U=$;const V={class:"home"},nn={class:"title"},en={class:"email"};function tn(n,e,t,i,r,s){return(0,o.wg)(),(0,o.iD)("div",V,[(0,o._)("div",nn,"Hallo "+(0,B.zw)(i.userName),1),(0,o._)("div",en,(0,B.zw)(i.userEmail),1),(0,o._)("div",{class:"signOut",onClick:e[0]||(e[0]=(...n)=>i.onClickSignOut&&i.onClickSignOut(...n))},"Abmelden")])}var on={setup(){const n=(0,o.f3)("clientService"),e=(0,D.tv)(),t=n.userName,i=n.userEmail;async function r(){await n.signOut(),n.isSignedIn||s()}function s(){e.push({name:"LogIn"})}return(0,o.wF)((async()=>{n.isSignedIn||s()})),{userName:t,userEmail:i,onClickSignOut:r}}};const rn=(0,p.Z)(on,[["render",tn],["__scopeId","data-v-540ae9ec"]]);var sn=rn;const cn=[{path:"/",name:"Home",component:sn},{path:"/login",name:"LogIn",component:U},{path:"/:catchAll(.*)",redirect:"/login"}],an=(0,D.p7)({history:(0,D.r5)("/eco-kirchner"),routes:cn});var un=an,ln=t(7327),dn=t(4233),gn=t(7795);let pn={apiKey:"AIzaSyA1X0q1F-Q0AZJKGfQ-pd9ECZPMWvXCC5Y",authDomain:"eco-kirchner.firebaseapp.com",projectId:"eco-kirchner",storageBucket:"eco-kirchner.appspot.com",messagingSenderId:"908630029969",appId:"1:908630029969:web:d242eb70de39b39a7cf130"};var vn=pn;class hn{constructor(){(0,ln.Z)(this,"_auth",void 0),(0,ln.Z)(this,"_googleAuthProvider",void 0),(0,ln.Z)(this,"_user",void 0),(0,ln.Z)(this,"_token",void 0);const n=(0,gn.ZF)(vn);this._auth=(0,dn.v0)(n),this._auth.languageCode="de",this._googleAuthProvider=new dn.hJ}get isSignedIn(){return!!this._user&&!!this._token}get userName(){return this.isSignedIn?this._user.displayName:null}get userEmail(){return this.isSignedIn?this._user.email:null}async signInWithGoogle(){const n=await(0,dn.rh)(this._auth,new dn.hJ);if(!n)return this._user=null,void(this._token=null);const e=dn.hJ.credentialFromResult(n);this._token=e.accessToken,this._user=n.user}async signOut(){await(0,dn.w7)(this._auth),this._user=null,this._token=null}}const fn=(0,i.ri)(O),mn=new hn;fn.provide("clientService",mn),fn.use(un),fn.mount("#app")}},e={};function t(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return n[i].call(r.exports,r,r.exports,t),r.exports}t.m=n,function(){var n=[];t.O=function(e,i,o,r){if(!i){var s=1/0;for(l=0;l<n.length;l++){i=n[l][0],o=n[l][1],r=n[l][2];for(var c=!0,a=0;a<i.length;a++)(!1&r||s>=r)&&Object.keys(t.O).every((function(n){return t.O[n](i[a])}))?i.splice(a--,1):(c=!1,r<s&&(s=r));if(c){n.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}r=r||0;for(var l=n.length;l>0&&n[l-1][2]>r;l--)n[l]=n[l-1];n[l]=[i,o,r]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){t.p="/EcoKirchner/"}(),function(){var n={143:0};t.O.j=function(e){return 0===n[e]};var e=function(e,i){var o,r,s=i[0],c=i[1],a=i[2],u=0;if(s.some((function(e){return 0!==n[e]}))){for(o in c)t.o(c,o)&&(t.m[o]=c[o]);if(a)var l=a(t)}for(e&&e(i);u<s.length;u++)r=s[u],t.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return t.O(l)},i=self["webpackChunkeco_kirchner"]=self["webpackChunkeco_kirchner"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(2831)}));i=t.O(i)})();
//# sourceMappingURL=app.78d8af7b.js.map